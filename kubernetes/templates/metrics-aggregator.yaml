apiVersion: oisp.org/v1
kind: BeamService
metadata:
  name: metrics-aggregator
spec:
  entryClass: "org.oisp.services.MetricsAggregator"
  args:
    runner: FlinkRunner
    streaming: "true"
    {{ if .Values.production }}
    checkpointingInterval: {{ .Values.metricsAggregator.checkpointingInterval | quote }}
    {{ end }}
    metricsTopic: {{ .Values.metricsAggregator.metricsTopic | quote }}
    bootstrapServers: {{ .Values.kafka.service}}
  package:
    url: {{ .Values.metricsAggregator.url }}
